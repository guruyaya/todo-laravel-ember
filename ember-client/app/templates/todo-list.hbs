<button id="logout_button" {{action "logout"}}>התנתק</button>
<div class="todo-list">
    <h3>רשימת משימות</h3>
    <form id="new_task_form">
        {{input value=task id="new_task_input"}}
        <button {{action "new_item"}} id="new_task_button" disabled>משימה חדשה</button>
    </form>
    <ul id="todo_list_items">
    {{#each model.todo_items as |item|}}
        <li class="{{if item.completed_at "completed" "not_completed"}}">
            {{#if item.completed_at}}
            <input type="checkbox" checked id="todo_item_{{item.id}}" onchange={{action "set_completed" item.id false}} />
            {{else}}
            <input type="checkbox"  id="todo_item_{{item.id}}" onchange={{action "set_completed" item.id true}} />
            {{/if}}
            {{item.task}}
            <i class="fa fa-share-alt" title="שיתוף משימה"></i>
            <i {{action "delete_are_you_sure" item}} class="fa fa-trash" aria-hidden="true" title="מחק משימה"></i>
        </li>
    {{/each}}
    </ul>
    
</div>

<BsModal @open={{are_you_sure_modal}}
    @onHidden={{action (mut modal1) false}}
    @item_id_to_delete={{item_id_to_delete}}
    @onSubmit={{action "delete_task" item_id_to_delete}} as |Modal|>
  <Modal.header>
    <h4 class="modal-title"><i class="glyphicon glyphicon-alert"></i> האם אתה בטוח?</h4>
  </Modal.header>
  <Modal.body>
    <p id="modal_question">
        אתה עומד למחוק את המשימה: {{delete_task_title}}
    </p>
    <p id="modal_wait">...</p>
  </Modal.body>
  <Modal.footer as |footer|>
    <BsButton @onClick={{action Modal.close}} @type="danger" >לא!</BsButton>
    <BsButton @onClick={{action Modal.submit}} @type="success">בהחלט!</BsButton>
  </Modal.footer>
</BsModal>